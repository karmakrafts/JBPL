/*
 * A simple fibonacci implementation
 */

macro fib(n: i32): i32 {
    if(n < 0) ^return -1
    if(n == 0) ^return 0
    if(n == 1) ^return 1
    define a: i32 = 0
    define b: i32 = 1
    define temp: i32 = 0
    for(i in 2..n) {
        temp = a + b
        a = b
        b = temp
    }
    ^return b
}

^info fib(30)