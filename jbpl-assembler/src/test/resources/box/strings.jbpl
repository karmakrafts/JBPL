/*
 * Copyright 2025 Karma Krafts & associates
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

private define test: string = "Hello, World!"

// Equality and inequality
assert test == "Hello, World!"
assert test != "Hellorld!"

// Size
assert sizeof("") == 0
assert sizeof("!") == 1
assert sizeof(test) == 13

// Subscript indexing - TODO: this is broken, see JBPL-18
// assert test[0] == 'H'
// assert test[sizeof(test) - 1] == '!'

// Concatination
assert (test + "!!") == "Hello, World!!!"

// Interpolation
// TODO: this is broken, see JBPL-
//private macro my_macro(): string {
//    ^return "!!"
//}
//
//assert "${my_macro()}!!" == "Hello, World!!!"
assert "${test}!!" == "Hello, World!!!"